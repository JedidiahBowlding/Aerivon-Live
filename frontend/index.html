<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aerivon Live â€“ Mic WS Client</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; }
      .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      button { padding: 10px 14px; }
      #status { font-weight: 600; }
      #transcript, #log { white-space: pre-wrap; border: 1px solid #ddd; padding: 12px; border-radius: 8px; }
      #transcript { min-height: 120px; }
      #log { min-height: 90px; color: #333; }
      .muted { color: #666; }
      .spacer { height: 14px; }
      code { background: #f6f8fa; padding: 2px 6px; border-radius: 6px; }
    </style>
  </head>
  <body>
    <h1>Aerivon Live â€“ WebSocket Microphone Client</h1>

    <div class="row">
      <button id="startBtn">ğŸ¤ Start</button>
      <button id="stopBtn" disabled>â¹ Stop</button>
      <button id="uploadImgBtn">ğŸ–¼ï¸ Upload Image</button>
      <span id="status" class="muted">disconnected</span>
      <span id="stateBadge" class="muted">idle</span>
    </div>

    <input id="imageFile" type="file" accept="image/*" style="display:none" />

    <div class="spacer"></div>

    <div class="muted">
      Connects to <code id="wsUrl"></code>
    </div>

    <div class="spacer"></div>

    <h3>Transcript</h3>
    <div id="transcript"></div>

    <div class="spacer"></div>

    <h3>Uploaded Image</h3>
    <img id="uploadPreview" alt="Uploaded image preview" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;" />

    <div class="spacer"></div>

    <h3>Log</h3>
    <div id="log"></div>

    <div class="spacer"></div>

    <h2>UI Navigator (Structured Actions)</h2>
    <div class="row">
      <input id="navUrl" type="text" placeholder="https://example.com" style="min-width: 320px; padding: 10px 12px;" />
      <button id="navOpenBtn">Open URL</button>
    </div>
    <div class="spacer"></div>
    <div class="row">
      <input id="navTask" type="text" placeholder="e.g., click Sign up, then type my email" style="min-width: 420px; padding: 10px 12px;" />
      <button id="navRunBtn">Run Task</button>
      <button id="navSpeakBtn">ğŸ™ï¸ Speak Task</button>
      <button id="navInterruptBtn">Interrupt</button>
    </div>
    <div class="spacer"></div>
    <div class="muted">Navigator WS: <code id="navWsUrl"></code></div>
    <div class="spacer"></div>
    <img id="navImg" alt="Navigator screenshot" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;" />

    <script type="module" src="./main.js"></script>
  </body>
</html>
